// <ppj name="Moveta.Intern" date="1/17/2024 7:59:41 AM" id="F4EC85BAD2BF79AC25C9F8643540E90F9BE1DAF0"/>
// ======================================================================================================
// This code was generated by the Ice Porter(tm) Tool version 4.8.15.0
// Ice Porter is part of The Porting Project (PPJ) by Ice Tea Group, LLC.
// The generated code is not guaranteed to be accurate and to compile without
// manual modifications.
// 
// ICE TEA GROUP LLC SHALL IN NO EVENT BE LIABLE FOR ANY DAMAGES WHATSOEVER
// (INCLUDING, WITHOUT LIMITATION, DAMAGES FOR LOSS OF BUSINESS PROFITS, BUSINESS
// INTERRUPTION, LOSS OF BUSINESS INFORMATION, OR ANY OTHER LOSS OF ANY KIND)
// ARISING OUT OF THE USE OR INABILITY TO USE THE GENERATED CODE, WHETHER
// DIRECT, INDIRECT, INCIDENTAL, CONSEQUENTIAL, SPECIAL OR OTHERWISE, REGARDLESS
// OF THE FORM OF ACTION, EVEN IF ICE TEA GROUP LLC HAS BEEN ADVISED OF THE
// POSSIBILITY OF SUCH DAMAGES.
// =====================================================================================================
using System;
using System.Text;
using System.Drawing;
using System.Diagnostics;
using System.Collections;
using System.Windows.Forms;
using System.ComponentModel;
using MT;
using PPJ.Runtime;
using PPJ.Runtime.Com;
using PPJ.Runtime.Sql;
using PPJ.Runtime.Vis;
using PPJ.Runtime.Windows;
using PPJ.Runtime.Windows.QO;
using PPJ.Runtime.XSal;
using System.Xml;

namespace Moveta.Intern
{
	
	/// <summary>
	/// </summary>
	public class FiskalyXML : SalFunctionalClass
	{
		#region Fields
		public SalString lstrXML = "";
		public XmlDocument oXMLDocument = new XmlDocument();
		public XmlNodeList XMLNODES;
		public XmlNodeList XMLCHILDS;
		public XmlNodeList XMLSUBCHILDS;
		public XmlNodeList XMLSUBCHILDS1;
		public XmlNodeList XMLSUBCHILDS2;
		public XmlNodeList XMLSUBCHILDS3;
		public XmlNodeList XMLSUBCHILDS4;
		public XmlNode XMLNODE;
		public XmlNode XMLELEMENT;
		public SalNumber nNodes = 0;
		public SalNumber nChildNodes = 0;
		public SalNumber nSubChildNodes = 0;
		public SalNumber nSubChildNodes1 = 0;
		public SalNumber nSubChildNodes2 = 0;
		public SalNumber nSubChildNodes3 = 0;
		public SalNumber nSubChildNodes4 = 0;
		public SalNumber nChildCount = 0;
		public SalNumber nSubChildCount = 0;
		public SalNumber nSubChildCount1 = 0;
		public SalNumber nSubChildCount2 = 0;
		public SalNumber nSubChildCount3 = 0;
		public SalNumber nSubChildCount4 = 0;
		public SalNumber nCount = 0;
		public SalNumber nNodeType = 0;
		public SalString sNodeName = "";
		public FiskalyTSSList FISKALY_TSS_LIST = null;
		public FiskalyTSS FISKALY_TSS = null;
		public FiskalyClientList FISKALY_CLIENT_LIST = null;
		public FiskalyClient FISKALY_CLIENT = null;
		public FiskalyTransactionList FISKALY_TRANSACTION_LIST = null;
		public FiskalyTransaction FISKALY_TRANSACTION = null;
		public FiskalyExportList FISKALY_EXPORT_LIST = null;
		public FiskalyExport FISKALY_EXPORT = null;
		public FiskalyTSSList_V2 FISKALY_TSS_LIST_V2 = null;
		public FiskalyTSS_V2 FISKALY_TSS_V2 = null;
		public FiskalyClient_V2 FISKALY_CLIENT_V2 = null;
		public FiskalyClientList_V2 FISKALY_CLIENT_LIST_V2 = null;
		public FiskalyTransaction_V2 FISKALY_TRANSACTION_V2 = null;
		public FiskalyTransactionList_V2 FISKALY_TRANSACTION_LIST_V2 = null;
		public FiskalyExportList_V2 FISKALY_EXPORT_LIST_V2 = null;
		public FiskalyExport_V2 FISKALY_EXPORT_V2 = null;
		#endregion
		
		#region Constructors/Destructors
		#endregion
		
		#region Methods
		
		/// <summary>
		/// </summary>
		/// <param name="p_lstrXML"></param>
		/// <returns></returns>
		public SalNumber SetXML(SalString p_lstrXML)
		{
			#region Actions
			lstrXML = p_lstrXML;

			return 0;
			#endregion
		}

		/// <summary>
		/// </summary>
		/// <returns></returns>
		public SalBoolean LoadXML()
		{
			#region Local Variables
			SalBoolean ret_bOk = false;
			#endregion

			#region Actions
			ret_bOk = (oXMLDocument = new XmlDocument()) != null;
			if (ret_bOk)
			{
				try
				{
                    oXMLDocument.LoadXml(lstrXML);
                    ret_bOk = true;
				}
				catch (Exception e)
                {
                    ret_bOk = false;
                }				
			}
			// Set ret_bOk=oXMLDocument.getDocumentElement(oXMLElement_Root)
			return ret_bOk;
			#endregion
		}

		/// <summary>
		/// </summary>
		/// <param name="p_strObject"></param>
		/// <param name="p_nMode"></param>
		/// <returns></returns>
		public SalBoolean ParseObjects(SalString p_strObject, SalNumber p_nMode)
		{
			#region Local Variables
			SalBoolean ret_bOk = false;
			#endregion

			#region Actions
			ret_bOk = LoadXML();
			if (ret_bOk)
			{
				if (p_nMode == 0)
				{
					//FC:FINAL: XML Änderungen
					//ret_bOk = oXMLDocument.GetElementsByTagName(XMLNODES, p_strObject + "_List");
					ret_bOk = (XMLNODES = oXMLDocument.GetElementsByTagName(p_strObject + "_List")) != null;
					if (ret_bOk)
					{
						// - create new List
						if (p_strObject == "Fiskaly_Client")
						{
							FISKALY_CLIENT_LIST = new FiskalyClientList();
						}
						else if (p_strObject == "Fiskaly_TSS")
						{
							FISKALY_TSS_LIST = new FiskalyTSSList();
						}
						else if (p_strObject == "Fiskaly_Transaction")
						{
							FISKALY_TRANSACTION_LIST = new FiskalyTransactionList();
						}
						else if (p_strObject == "Fiskaly_Export")
						{
							FISKALY_EXPORT_LIST = new FiskalyExportList();
						}
						// -- Geändert (14.10.2021)
						else if (p_strObject == "Fiskaly_TSS_V2")
						{
							FISKALY_TSS_LIST_V2 = new FiskalyTSSList_V2();
						}
						else if (p_strObject == "Fiskaly_Client_V2")
						{
							FISKALY_CLIENT_LIST_V2 = new FiskalyClientList_V2();
						}
						else if (p_strObject == "Fiskaly_Transaction_V2")
						{
							FISKALY_TRANSACTION_LIST_V2 = new FiskalyTransactionList_V2();
						}
						else if (p_strObject == "Fiskaly_Export_V2")
						{
							FISKALY_EXPORT_LIST_V2 = new FiskalyExportList_V2();
						}
						nNodes = XMLNODES.Count;
						if (nNodes > 0)
						{
							nCount = 0;
							while (true)
							{
								if (nCount >= nNodes)
								{
									break;
								}
								XMLNODE = XMLNODES[nCount];
                                XMLCHILDS = XMLNODE.ChildNodes;
								if (XMLCHILDS != null)
								{
									nChildNodes = XMLCHILDS.Count;
									nChildCount = 0;
									while (true)
									{
										if (nChildCount >= nChildNodes)
										{
											break;
										}
										if (XMLCHILDS[nChildCount].Name == "count")
										{
											if (p_strObject == "Fiskaly_TSS")
											{
												FISKALY_TSS_LIST.count = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											else if (p_strObject == "Fiskaly_Client")
											{
												FISKALY_CLIENT_LIST.count = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											else if (p_strObject == "Fiskaly_Transaction")
											{
												FISKALY_TRANSACTION_LIST.count = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											else if (p_strObject == "Fiskaly_Export")
											{
												FISKALY_EXPORT_LIST.count = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											// -- Geändert (14.10.2021)
											else if (p_strObject == "Fiskaly_TSS_V2")
											{
												FISKALY_TSS_LIST_V2.count = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											else if (p_strObject == "Fiskaly_Client_V2")
											{
												FISKALY_CLIENT_LIST_V2.count = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											else if (p_strObject == "Fiskaly_Transaction_V2")
											{
												FISKALY_TRANSACTION_LIST_V2.count = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											else if (p_strObject == "Fiskaly_Export_V2")
											{
												FISKALY_EXPORT_LIST_V2.count = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
										}
										if (XMLCHILDS[nChildCount].Name == "_type")
										{
											if (p_strObject == "Fiskaly_TSS")
											{
												FISKALY_TSS_LIST._type = XMLCHILDS[nChildCount].InnerText;
											}
											else if (p_strObject == "Fiskaly_Client")
											{
												FISKALY_CLIENT_LIST._type = XMLCHILDS[nChildCount].InnerText;
											}
											else if (p_strObject == "Fiskaly_Transaction")
											{
												FISKALY_TRANSACTION_LIST._type = XMLCHILDS[nChildCount].InnerText;
											}
											else if (p_strObject == "Fiskaly_Export")
											{
												FISKALY_EXPORT_LIST._type = XMLCHILDS[nChildCount].InnerText;
											}
											// -- Geändert (14.10.2021)
											else if (p_strObject == "Fiskaly_TSS_V2")
											{
												FISKALY_TSS_LIST_V2._type = XMLCHILDS[nChildCount].InnerText;
											}
											else if (p_strObject == "Fiskaly_Client")
											{
												FISKALY_CLIENT_LIST_V2._type = XMLCHILDS[nChildCount].InnerText;
											}
											else if (p_strObject == "Fiskaly_Transaction")
											{
												FISKALY_TRANSACTION_LIST_V2._type = XMLCHILDS[nChildCount].InnerText;
											}
											// -- Geändert (31.10.2021)
											else if (p_strObject == "Fiskaly_Export_V2")
											{
												FISKALY_EXPORT_LIST_V2._type = XMLCHILDS[nChildCount].InnerText;
											}
										}
										if (XMLCHILDS[nChildCount].Name == "_env")
										{
											if (p_strObject == "Fiskaly_TSS")
											{
												FISKALY_TSS_LIST._env = XMLCHILDS[nChildCount].InnerText;
											}
											else if (p_strObject == "Fiskaly_Client")
											{
												FISKALY_CLIENT_LIST._env = XMLCHILDS[nChildCount].InnerText;
											}
											else if (p_strObject == "Fiskaly_Transaction")
											{
												FISKALY_TRANSACTION_LIST._env = XMLCHILDS[nChildCount].InnerText;
											}
											else if (p_strObject == "Fiskaly_Export")
											{
												FISKALY_EXPORT_LIST._env = XMLCHILDS[nChildCount].InnerText;
											}
											// -- Geändert (14.10.2021)
											else if (p_strObject == "Fiskaly_TSS_V2")
											{
												FISKALY_TSS_LIST_V2._env = XMLCHILDS[nChildCount].InnerText;
											}
											else if (p_strObject == "Fiskaly_Client_V2")
											{
												FISKALY_CLIENT_LIST_V2._env = XMLCHILDS[nChildCount].InnerText;
											}
											else if (p_strObject == "Fiskaly_Transaction_V2")
											{
												FISKALY_TRANSACTION_LIST_V2._env = XMLCHILDS[nChildCount].InnerText;
											}
											else if (p_strObject == "Fiskaly_Export_V2")
											{
												FISKALY_EXPORT_LIST_V2._env = XMLCHILDS[nChildCount].InnerText;
											}
										}
										if (XMLCHILDS[nChildCount].Name == "_version")
										{
											if (p_strObject == "Fiskaly_TSS")
											{
												FISKALY_TSS_LIST._version = XMLCHILDS[nChildCount].InnerText;
											}
											else if (p_strObject == "Fiskaly_Client")
											{
												FISKALY_CLIENT_LIST._version = XMLCHILDS[nChildCount].InnerText;
											}
											else if (p_strObject == "Fiskaly_Transaction")
											{
												FISKALY_TRANSACTION_LIST._version = XMLCHILDS[nChildCount].InnerText;
											}
											else if (p_strObject == "Fiskaly_Export")
											{
												FISKALY_EXPORT_LIST._version = XMLCHILDS[nChildCount].InnerText;
											}
											// -- Geändert (14.10.2021)
											else if (p_strObject == "Fiskaly_TSS_V2")
											{
												FISKALY_TSS_LIST_V2._version = XMLCHILDS[nChildCount].InnerText;
											}
											else if (p_strObject == "Fiskaly_Client_V2")
											{
												FISKALY_CLIENT_LIST_V2._version = XMLCHILDS[nChildCount].InnerText;
											}
											else if (p_strObject == "Fiskaly_Transaction_V2")
											{
												FISKALY_TRANSACTION_LIST_V2._version = XMLCHILDS[nChildCount].InnerText;
											}
											else if (p_strObject == "Fiskaly_Export_V2")
											{
												FISKALY_EXPORT_LIST_V2._version = XMLCHILDS[nChildCount].InnerText;
											}
										}
										nChildCount = nChildCount + 1;
									}
								}
								nCount = nCount + 1;
							}
						}
					}
				}
				// get list elements
				ret_bOk = (XMLNODES = oXMLDocument.GetElementsByTagName(p_strObject)) != null;
				if (ret_bOk)
				{
					nNodes = XMLNODES.Count;
					if (nNodes > 0)
					{
						nCount = 0;
						while (true)
						{
							if (nCount >= nNodes)
							{
								break;
							}
							XMLNODE = XMLNODES[nCount];
							XMLCHILDS = XMLNODE.ChildNodes;
							if (XMLCHILDS != null)
							{
								if (p_strObject == "Fiskaly_TSS")
								{
									FISKALY_TSS = new FiskalyTSS();
								}
								else if (p_strObject == "Fiskaly_Client")
								{
									FISKALY_CLIENT = new FiskalyClient();
								}
								else if (p_strObject == "Fiskaly_Transaction")
								{
									FISKALY_TRANSACTION = new FiskalyTransaction();
								}
								else if (p_strObject == "Fiskaly_Export")
								{
									FISKALY_EXPORT = new FiskalyExport();
								}
								// -- Geändert (14.10.2021)
								else if (p_strObject == "Fiskaly_TSS_V2")
								{
									FISKALY_TSS_V2 = new FiskalyTSS_V2();
								}
								else if (p_strObject == "Fiskaly_Client_V2")
								{
									FISKALY_CLIENT_V2 = new FiskalyClient_V2();
								}
								else if (p_strObject == "Fiskaly_Transaction_V2")
								{
									FISKALY_TRANSACTION_V2 = new FiskalyTransaction_V2();
								}
								else if (p_strObject == "Fiskaly_Export_V2")
								{
									FISKALY_EXPORT_V2 = new FiskalyExport_V2();
								}
								nChildNodes = XMLCHILDS.Count;
								nChildCount = 0;
								while (true)
								{
									if (nChildCount >= nChildNodes)
									{
										break;
									}
									// Set nNodeType = XMLCHILDS.item(nChildCount).nodeType(  )
									// Set sNodeName= XMLCHILDS.item(nChildCount).nodeName(  )
									if (XMLCHILDS[nChildCount].NodeType == XmlNodeType.Element)
									{
										if (p_strObject == "Fiskaly_TSS")
										{
											if (XMLCHILDS[nChildCount].Name == "description")
											{
												FISKALY_TSS.description = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "state")
											{
												FISKALY_TSS.state = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "time_creation")
											{
												FISKALY_TSS.time_creation = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "time_init")
											{
												FISKALY_TSS.time_init = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "time_disable")
											{
												FISKALY_TSS.time_disable = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "certificate")
											{
												FISKALY_TSS.certificate = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "certificate_serial")
											{
												FISKALY_TSS.certificate_serial = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "public_key")
											{
												FISKALY_TSS.public_key = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "signature_counter")
											{
												FISKALY_TSS.signature_counter = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "signature_algorithm")
											{
												FISKALY_TSS.signature_algorithm = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "signature_timestamp_format")
											{
												FISKALY_TSS.signature_timestamp_format = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "transaction_counter")
											{
												FISKALY_TSS.transaction_counter = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "transaction_data_encoding")
											{
												FISKALY_TSS.transaction_data_encoding = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_id")
											{
												FISKALY_TSS._id = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_type")
											{
												FISKALY_TSS._type = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_env")
											{
												FISKALY_TSS._env = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_version")
											{
												FISKALY_TSS._version = XMLCHILDS[nChildCount].InnerText;
											}
										}
										else if (p_strObject == "Fiskaly_Client")
										{
											if (XMLCHILDS[nChildCount].Name == "serial_number")
											{
												FISKALY_CLIENT.serial_number = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "time_creation")
											{
												FISKALY_CLIENT.time_creation = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "time_update")
											{
												FISKALY_CLIENT.time_update = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "tss_id")
											{
												FISKALY_CLIENT.tss_id = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_id")
											{
												FISKALY_CLIENT._id = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_type")
											{
												FISKALY_CLIENT._type = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_env")
											{
												FISKALY_CLIENT._env = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_version")
											{
												FISKALY_CLIENT._version = XMLCHILDS[nChildCount].InnerText;
											}
										}
										else if (p_strObject == "Fiskaly_Transaction")
										{
											if (XMLCHILDS[nChildCount].Name == "number")
											{
												FISKALY_TRANSACTION.number = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "time_start")
											{
												FISKALY_TRANSACTION.time_start = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "time_end")
											{
												FISKALY_TRANSACTION.time_end = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "certificate_serial")
											{
												FISKALY_TRANSACTION.certificate_serial = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "type")
											{
												FISKALY_TRANSACTION.type = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "state")
											{
												FISKALY_TRANSACTION.state = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "client_id")
											{
												FISKALY_TRANSACTION.client_id = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "schema")
											{
												if (XMLCHILDS[nChildCount].HasChildNodes == true)
												{
													if ((XMLSUBCHILDS = XMLCHILDS[nChildCount].ChildNodes) != null)
													{
														nSubChildNodes = XMLSUBCHILDS.Count;
														nSubChildCount = 0;
														while (true)
														{
															if (nSubChildCount >= nSubChildNodes)
															{
																break;
															}
															if (XMLSUBCHILDS[nSubChildCount].NodeType == XmlNodeType.Element)
															{
																if (XMLSUBCHILDS[nSubChildCount].Name == "standard_v1")
																{
																	if (XMLSUBCHILDS[nSubChildCount].HasChildNodes == true)
																	{
																		if ((XMLSUBCHILDS1 = XMLSUBCHILDS[nSubChildCount].ChildNodes) != null)
																		{
																			nSubChildNodes1 = XMLSUBCHILDS1.Count;
																			nSubChildCount1 = 0;
																			while (true)
																			{
																				if (nSubChildCount1 >= nSubChildNodes1)
																				{
																					break;
																				}
																				if (XMLSUBCHILDS1[nSubChildCount1].NodeType == XmlNodeType.Element)
																				{
																					if (XMLSUBCHILDS1[nSubChildCount1].Name == "receipt")
																					{
																						if (XMLSUBCHILDS1[nSubChildCount1].HasChildNodes == true)
																						{
																							if ((XMLSUBCHILDS2 = XMLSUBCHILDS1[nSubChildCount1].ChildNodes) != null)
																							{
																								nSubChildNodes2 = XMLSUBCHILDS2.Count;
																								nSubChildCount2 = 0;
																								while (true)
																								{
																									if (nSubChildCount2 >= nSubChildNodes2)
																									{
																										break;
																									}
																									if (XMLSUBCHILDS2[nSubChildCount2].NodeType == XmlNodeType.Element)
																									{
																										if (XMLSUBCHILDS2[nSubChildCount2].Name == "receipt_type")
																										{
																											FISKALY_TRANSACTION.schema.standard_v1.receipt.receipt_type = XMLSUBCHILDS2[nSubChildCount2].InnerText;
																										}
																										if (XMLSUBCHILDS2[nSubChildCount2].Name == "amounts_per_vat_rate")
																										{
																											if (XMLSUBCHILDS2[nSubChildCount2].HasChildNodes == true)
																											{
																												if ((XMLSUBCHILDS3 = XMLSUBCHILDS2[nSubChildCount2].ChildNodes) != null)
																												{
																													nSubChildNodes3 = XMLSUBCHILDS3.Count;
																													nSubChildCount3 = 0;
																													while (true)
																													{
																														if (nSubChildCount3 >= nSubChildNodes3)
																														{
																															break;
																														}
																														if (XMLSUBCHILDS3[nSubChildCount3].NodeType == XmlNodeType.Element)
																														{
																															if (XMLSUBCHILDS3[nSubChildCount3].Name == "Fiskaly_Amounts_per_vat_rate")
																															{
																																if (XMLSUBCHILDS3[nSubChildCount3].HasChildNodes == true)
																																{
																																	if ((XMLSUBCHILDS4 = XMLSUBCHILDS3[nSubChildCount3].ChildNodes) != null)
																																	{
																																		nSubChildNodes4 = XMLSUBCHILDS4.Count;
																																		nSubChildCount4 = 0;
																																		while (true)
																																		{
																																			if (nSubChildCount4 >= nSubChildNodes4)
																																			{
																																				break;
																																			}
																																			if (XMLSUBCHILDS4[nSubChildCount4].NodeType == XmlNodeType.Element)
																																			{
																																				if (XMLSUBCHILDS4[nSubChildCount4].Name == "vat_rate")
																																				{
																																					FISKALY_TRANSACTION.schema.standard_v1.receipt.amounts_per_var_rate[nSubChildCount3].vat_rate = XMLSUBCHILDS4[nSubChildCount4].InnerText;
																																				}
																																				if (XMLSUBCHILDS4[nSubChildCount4].Name == "amount")
																																				{
																																					FISKALY_TRANSACTION.schema.standard_v1.receipt.amounts_per_var_rate[nSubChildCount3].amount = ((SalString)XMLSUBCHILDS4[nSubChildCount4].InnerText).ToNumber();
																																				}
																																			}
																																			nSubChildCount4 = nSubChildCount4 + 1;
																																		}
																																	}
																																}
																															}
																														}
																														nSubChildCount3 = nSubChildCount3 + 1;
																													}
																												}
																											}
																										}
																										if (XMLSUBCHILDS2[nSubChildCount2].Name == "amounts_per_payment_type")
																										{
																											if (XMLSUBCHILDS2[nSubChildCount2].HasChildNodes)
																											{
																												if ((XMLSUBCHILDS3 = XMLSUBCHILDS2[nSubChildCount2].ChildNodes) != null)
																												{
																													nSubChildNodes3 = XMLSUBCHILDS3.Count;
																													nSubChildCount3 = 0;
																													while (true)
																													{
																														if (nSubChildCount3 >= nSubChildNodes3)
																														{
																															break;
																														}
																														if (XMLSUBCHILDS3[nSubChildCount3].NodeType == XmlNodeType.Element)
																														{
																															if (XMLSUBCHILDS3[nSubChildCount3].Name == "Fiskaly_Amounts_per_payment_type")
																															{
																																if (XMLSUBCHILDS3[nSubChildCount3].HasChildNodes == true)
																																{
																																	if ((XMLSUBCHILDS4 = XMLSUBCHILDS3[nSubChildCount3].ChildNodes) != null)
																																	{
																																		nSubChildNodes4 = XMLSUBCHILDS4.Count;
																																		nSubChildCount4 = 0;
																																		while (true)
																																		{
																																			if (nSubChildCount4 >= nSubChildNodes4)
																																			{
																																				break;
																																			}
																																			if (XMLSUBCHILDS4[nSubChildCount4].NodeType == XmlNodeType.Element)
																																			{
																																				if (XMLSUBCHILDS4[nSubChildCount4].Name == "payment_type")
																																				{
																																					FISKALY_TRANSACTION.schema.standard_v1.receipt.amounts_per_payment_type[nSubChildCount3].payment_type = XMLSUBCHILDS4[nSubChildCount4].InnerText;
																																				}
																																				if (XMLSUBCHILDS4[nSubChildCount4].Name == "amount")
																																				{
																																					FISKALY_TRANSACTION.schema.standard_v1.receipt.amounts_per_var_rate[nSubChildCount3].amount = ((SalString)XMLSUBCHILDS4[nSubChildCount4].InnerText).ToNumber();
																																				}
																																				if (XMLSUBCHILDS4[nSubChildCount4].Name == "currency_code")
																																				{
																																					FISKALY_TRANSACTION.schema.standard_v1.receipt.amounts_per_payment_type[nSubChildCount3].currency_code = XMLSUBCHILDS4[nSubChildCount4].InnerText;
																																				}
																																			}
																																			nSubChildCount4 = nSubChildCount4 + 1;
																																		}
																																	}
																																}
																															}
																														}
																														nSubChildCount3 = nSubChildCount3 + 1;
																													}
																												}
																											}
																										}
																									}
																									nSubChildCount2 = nSubChildCount2 + 1;
																								}
																							}
																						}
																					}
																				}
																				nSubChildCount1 = nSubChildCount1 + 1;
																			}
																		}
																	}
																}
																if (XMLSUBCHILDS[nSubChildCount].Name == "raw")
																{
																	if (XMLSUBCHILDS[nSubChildCount].HasChildNodes)
																	{
																		if ((XMLSUBCHILDS1 = XMLSUBCHILDS[nSubChildCount].ChildNodes) != null)
																		{
																			nSubChildNodes1 = XMLSUBCHILDS1.Count;
																			nSubChildCount1 = 0;
																			while (true)
																			{
																				if (nSubChildCount1 >= nSubChildNodes1)
																				{
																					break;
																				}
																				if (XMLSUBCHILDS1[nSubChildCount1].NodeType == XmlNodeType.Element)
																				{
																					if (XMLSUBCHILDS1[nSubChildCount1].Name == "process_type")
																					{
																						FISKALY_TRANSACTION.schema.raw.process_type = XMLSUBCHILDS1[nSubChildCount1].InnerText;
																					}
																					if (XMLSUBCHILDS1[nSubChildCount1].Name == "process_data")
																					{
																						FISKALY_TRANSACTION.schema.raw.process_data = XMLSUBCHILDS1[nSubChildCount1].InnerText;
																					}
																				}
																				nSubChildCount1 = nSubChildCount1 + 1;
																			}
																		}
																	}
																}
																// If XMLSUBCHILDS.item(nSubChildCount).nodeName(  )="algorithm"
																// Set FISKALY_TRANSACTION.signature.algorithm=XMLSUBCHILDS.item(nSubChildCount).getTextContent()
																// If XMLSUBCHILDS.item(nSubChildCount).nodeName(  )="counter"
																// Set FISKALY_TRANSACTION.signature.counter=SalStrToNumber(XMLSUBCHILDS.item(nSubChildCount).getTextContent())
																// If XMLSUBCHILDS.item(nSubChildCount).nodeName(  )="public_key"
																// Set FISKALY_TRANSACTION.signature.public_key=XMLSUBCHILDS.item(nSubChildCount).getTextContent()
															}
															nSubChildCount = nSubChildCount + 1;
														}
													}
												}
											}
											// If XMLCHILDS.item(nChildCount).nodeName(  )="data"
											// If XMLCHILDS.item( nChildCount ).hasChildNodes()=TRUE
											// If XMLCHILDS.item( nChildCount ).childNodes(XMLSUBCHILDS )
											// Set nSubChildNodes=XMLSUBCHILDS.length(  )
											// Set nSubChildCount=0
											// Loop
											// If nSubChildCount>nSubChildNodes
											// Break
											// If XMLSUBCHILDS.item(nSubChildCount).nodeType(  )= XML_ELEMENT_NODE
											// If XMLSUBCHILDS.item(nSubChildCount).nodeName(  )="binary"
											// Set FISKALY_TRANSACTION.data.binary=XMLSUBCHILDS.item(nSubChildCount).getTextContent()
											// Set nSubChildCount=nSubChildCount+1
											if (XMLCHILDS[nChildCount].Name == "qr_code_data")
											{
												FISKALY_TRANSACTION.qr_code_data = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "revision")
											{
												FISKALY_TRANSACTION.revision = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "latest_revision")
											{
												FISKALY_TRANSACTION.latest_revision = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "log")
											{
												if (XMLCHILDS[nChildCount].HasChildNodes)
												{
													if ((XMLSUBCHILDS = XMLCHILDS[nChildCount].ChildNodes) != null)
													{
														nSubChildNodes = XMLSUBCHILDS.Count;
														nSubChildCount = 0;
														while (true)
														{
															if (nSubChildCount >= nSubChildNodes)
															{
																break;
															}
															if (XMLSUBCHILDS[nSubChildCount].NodeType == XmlNodeType.Element)
															{
																if (XMLSUBCHILDS[nSubChildCount].Name == "operation")
																{
																	FISKALY_TRANSACTION.log.operation = XMLSUBCHILDS[nSubChildCount].InnerText;
																}
																if (XMLSUBCHILDS[nSubChildCount].Name == "timestamp")
																{
																	FISKALY_TRANSACTION.log.timestamp = ((SalString)XMLSUBCHILDS[nSubChildCount].InnerText).ToNumber();
																}
																if (XMLSUBCHILDS[nSubChildCount].Name == "timestamp_format")
																{
																	FISKALY_TRANSACTION.log.timestamp_format = XMLSUBCHILDS[nSubChildCount].InnerText;
																}
															}
															nSubChildCount = nSubChildCount + 1;
														}
													}
												}
											}
											if (XMLCHILDS[nChildCount].Name == "signature")
											{
												if (XMLCHILDS[nChildCount].HasChildNodes)
												{
													if ((XMLSUBCHILDS = XMLCHILDS[nChildCount].ChildNodes) != null)
													{
														nSubChildNodes = XMLSUBCHILDS.Count;
														nSubChildCount = 0;
														while (true)
														{
															if (nSubChildCount >= nSubChildNodes)
															{
																break;
															}
															if (XMLSUBCHILDS[nSubChildCount].NodeType == XmlNodeType.Element)
															{
																if (XMLSUBCHILDS[nSubChildCount].Name == "value")
																{
																	FISKALY_TRANSACTION.signature.value = XMLSUBCHILDS[nSubChildCount].InnerText;
																}
																if (XMLSUBCHILDS[nSubChildCount].Name == "algorithm")
																{
																	FISKALY_TRANSACTION.signature.algorithm = XMLSUBCHILDS[nSubChildCount].InnerText;
																}
																if (XMLSUBCHILDS[nSubChildCount].Name == "counter")
																{
																	FISKALY_TRANSACTION.signature.counter = ((SalString)XMLSUBCHILDS[nSubChildCount].InnerText).ToNumber();
																}
																if (XMLSUBCHILDS[nSubChildCount].Name == "public_key")
																{
																	FISKALY_TRANSACTION.signature.public_key = XMLSUBCHILDS[nSubChildCount].InnerText;
																}
															}
															nSubChildCount = nSubChildCount + 1;
														}
													}
												}
											}
											if (XMLCHILDS[nChildCount].Name == "tss_id")
											{
												FISKALY_TRANSACTION.tss_id = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_id")
											{
												FISKALY_TRANSACTION._id = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_type")
											{
												FISKALY_TRANSACTION._type = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_env")
											{
												FISKALY_TRANSACTION._env = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_version")
											{
												FISKALY_TRANSACTION._version = XMLCHILDS[nChildCount].InnerText;
											}
										}
										else if (p_strObject == "Fiskaly_Export")
										{
											if (XMLCHILDS[nChildCount].Name == "href")
											{
												FISKALY_EXPORT.href = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "state")
											{
												FISKALY_EXPORT.state = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "time_request")
											{
												FISKALY_EXPORT.time_request = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "time_start")
											{
												FISKALY_EXPORT.time_start = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "time_end")
											{
												FISKALY_EXPORT.time_end = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "tss_id")
											{
												FISKALY_EXPORT.tss_id = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_id")
											{
												FISKALY_EXPORT._id = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_type")
											{
												FISKALY_EXPORT._type = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_env")
											{
												FISKALY_EXPORT._env = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_version")
											{
												FISKALY_EXPORT._version = XMLCHILDS[nChildCount].InnerText;
											}
										}
										// -- Geändert (14.10.2021)
										else if (p_strObject == "Fiskaly_TSS_V2")
										{
											if (XMLCHILDS[nChildCount].Name == "certificate")
											{
												FISKALY_TSS_V2.certificate = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "serial_number")
											{
												FISKALY_TSS_V2.serial_number = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "public_key")
											{
												FISKALY_TSS_V2.public_key = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "signature_algorithm")
											{
												FISKALY_TSS_V2.signature_algorithm = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "signature_timestamp_format")
											{
												FISKALY_TSS_V2.signature_timestamp_format = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "transaction_data_encoding")
											{
												FISKALY_TSS_V2.transaction_data_encoding = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "max_number_registered_clients")
											{
												FISKALY_TSS_V2.max_number_registered_clients = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "max_number_active_transactions")
											{
												FISKALY_TSS_V2.max_number_active_transactions = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "supported_update_variants")
											{
												FISKALY_TSS_V2.supported_update_variants = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_id")
											{
												FISKALY_TSS_V2._id = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_type")
											{
												FISKALY_TSS_V2._type = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_env")
											{
												FISKALY_TSS_V2._env = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_version")
											{
												FISKALY_TSS_V2._version = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "time_creation")
											{
												FISKALY_TSS_V2.time_creation = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "description")
											{
												FISKALY_TSS_V2.description = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "state")
											{
												FISKALY_TSS_V2.state = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "signature_counter")
											{
												FISKALY_TSS_V2.signature_counter = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "transaction_counter")
											{
												FISKALY_TSS_V2.transaction_counter = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "max_number_registered_clients")
											{
												FISKALY_TSS_V2.max_number_registered_clients = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "max_number_active_transactions")
											{
												FISKALY_TSS_V2.max_number_active_transactions = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "time_uninit")
											{
												FISKALY_TSS_V2.time_uninit = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "time_init")
											{
												FISKALY_TSS_V2.time_init = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "time_disable")
											{
												FISKALY_TSS_V2.time_disable = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
										}
										else if (p_strObject == "Fiskaly_Client_V2")
										{
											if (XMLCHILDS[nChildCount].Name == "serial_number")
											{
												FISKALY_CLIENT_V2.serial_number = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "state")
											{
												FISKALY_CLIENT_V2.state = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "time_creation")
											{
												FISKALY_CLIENT_V2.time_creation = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "time_update")
											{
												FISKALY_CLIENT_V2.time_update = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "tss_id")
											{
												FISKALY_CLIENT_V2.tss_id = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_id")
											{
												FISKALY_CLIENT_V2._id = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_type")
											{
												FISKALY_CLIENT_V2._type = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_env")
											{
												FISKALY_CLIENT_V2._env = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_version")
											{
												FISKALY_CLIENT_V2._version = XMLCHILDS[nChildCount].InnerText;
											}
										}
										else if (p_strObject == "Fiskaly_Transaction_V2")
										{
											if (XMLCHILDS[nChildCount].Name == "number")
											{
												FISKALY_TRANSACTION_V2.number = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "time_start")
											{
												FISKALY_TRANSACTION_V2.time_start = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "time_end")
											{
												FISKALY_TRANSACTION_V2.time_end = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "tss_serial_number")
											{
												FISKALY_TRANSACTION_V2.tss_serial_number = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "state")
											{
												FISKALY_TRANSACTION_V2.state = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "client_id")
											{
												FISKALY_TRANSACTION_V2.client_id = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "schema")
											{
												if (XMLCHILDS[nChildCount].HasChildNodes)
												{
													if ((XMLSUBCHILDS = XMLCHILDS[nChildCount].ChildNodes) != null)
													{
														nSubChildNodes = XMLSUBCHILDS.Count;
														nSubChildCount = 0;
														while (true)
														{
															if (nSubChildCount >= nSubChildNodes)
															{
																break;
															}
															if (XMLSUBCHILDS[nSubChildCount].NodeType == XmlNodeType.Element)
															{
																if (XMLSUBCHILDS[nSubChildCount].Name == "standard_v1")
																{
																	if (XMLSUBCHILDS[nSubChildCount].HasChildNodes)
																	{
																		if ((XMLSUBCHILDS1 = XMLSUBCHILDS[nSubChildCount].ChildNodes) != null)
																		{
																			nSubChildNodes1 = XMLSUBCHILDS1.Count;
																			nSubChildCount1 = 0;
																			while (true)
																			{
																				if (nSubChildCount1 >= nSubChildNodes1)
																				{
																					break;
																				}
																				if (XMLSUBCHILDS1[nSubChildCount1].NodeType == XmlNodeType.Element)
																				{
																					if (XMLSUBCHILDS1[nSubChildCount1].Name == "receipt")
																					{
																						if (XMLSUBCHILDS1[nSubChildCount1].HasChildNodes)
																						{
																							if ((XMLSUBCHILDS2 = XMLSUBCHILDS1[nSubChildCount1].ChildNodes) != null)
																							{
																								nSubChildNodes2 = XMLSUBCHILDS2.Count;
																								nSubChildCount2 = 0;
																								while (true)
																								{
																									if (nSubChildCount2 >= nSubChildNodes2)
																									{
																										break;
																									}
																									if (XMLSUBCHILDS2[nSubChildCount2].NodeType == XmlNodeType.Element)
																									{
																										if (XMLSUBCHILDS2[nSubChildCount2].Name == "receipt_type")
																										{
																											FISKALY_TRANSACTION_V2.schema.standard_v1.receipt.receipt_type = XMLSUBCHILDS2[nSubChildCount2].InnerText;
																										}
																										if (XMLSUBCHILDS2[nSubChildCount2].Name == "amounts_per_vat_rate")
																										{
																											if (XMLSUBCHILDS2[nSubChildCount2].HasChildNodes)
																											{
																												if ((XMLSUBCHILDS3 = XMLSUBCHILDS2[nSubChildCount2].ChildNodes) != null)
																												{
																													nSubChildNodes3 = XMLSUBCHILDS3.Count;
																													nSubChildCount3 = 0;
																													while (true)
																													{
																														if (nSubChildCount3 >= nSubChildNodes3)
																														{
																															break;
																														}
																														if (XMLSUBCHILDS3[nSubChildCount3].NodeType == XmlNodeType.Element)
																														{
																															if (XMLSUBCHILDS3[nSubChildCount3].Name == "Fiskaly_Amounts_per_vat_rate")
																															{
																																if (XMLSUBCHILDS3[nSubChildCount3].HasChildNodes)
																																{
																																	if ((XMLSUBCHILDS4 = XMLSUBCHILDS3[nSubChildCount3].ChildNodes) != null)
																																	{
																																		nSubChildNodes4 = XMLSUBCHILDS4.Count;
																																		nSubChildCount4 = 0;
																																		while (true)
																																		{
																																			if (nSubChildCount4 >= nSubChildNodes4)
																																			{
																																				break;
																																			}
																																			if (XMLSUBCHILDS4[nSubChildCount4].NodeType == XmlNodeType.Element)
																																			{
																																				if (XMLSUBCHILDS4[nSubChildCount4].Name == "vat_rate")
																																				{
																																					FISKALY_TRANSACTION_V2.schema.standard_v1.receipt.amounts_per_var_rate[nSubChildCount3].vat_rate = XMLSUBCHILDS4[nSubChildCount4].InnerText;
																																				}
																																				if (XMLSUBCHILDS4[nSubChildCount4].Name == "amount")
																																				{
																																					FISKALY_TRANSACTION_V2.schema.standard_v1.receipt.amounts_per_var_rate[nSubChildCount3].amount = ((SalString)XMLSUBCHILDS4[nSubChildCount4].InnerText).ToNumber();
																																				}
																																			}
																																			nSubChildCount4 = nSubChildCount4 + 1;
																																		}
																																	}
																																}
																															}
																														}
																														nSubChildCount3 = nSubChildCount3 + 1;
																													}
																												}
																											}
																										}
																										if (XMLSUBCHILDS2[nSubChildCount2].Name == "amounts_per_payment_type")
																										{
																											if (XMLSUBCHILDS2[nSubChildCount2].HasChildNodes)
																											{
																												if ((XMLSUBCHILDS3 = XMLSUBCHILDS2[nSubChildCount2].ChildNodes) != null)
																												{
																													nSubChildNodes3 = XMLSUBCHILDS3.Count;
																													nSubChildCount3 = 0;
																													while (true)
																													{
																														if (nSubChildCount3 >= nSubChildNodes3)
																														{
																															break;
																														}
																														if (XMLSUBCHILDS3[nSubChildCount3].NodeType == XmlNodeType.Element)
																														{
																															if (XMLSUBCHILDS3[nSubChildCount3].Name == "Fiskaly_Amounts_per_payment_type")
																															{
																																if (XMLSUBCHILDS3[nSubChildCount3].HasChildNodes)
																																{
																																	if ((XMLSUBCHILDS4 = XMLSUBCHILDS3[nSubChildCount3].ChildNodes) != null)
																																	{
																																		nSubChildNodes4 = XMLSUBCHILDS4.Count;
																																		nSubChildCount4 = 0;
																																		while (true)
																																		{
																																			if (nSubChildCount4 >= nSubChildNodes4)
																																			{
																																				break;
																																			}
																																			if (XMLSUBCHILDS4[nSubChildCount4].NodeType == XmlNodeType.Element)
																																			{
																																				if (XMLSUBCHILDS4[nSubChildCount4].Name == "payment_type")
																																				{
																																					FISKALY_TRANSACTION_V2.schema.standard_v1.receipt.amounts_per_payment_type[nSubChildCount3].payment_type = XMLSUBCHILDS4[nSubChildCount4].InnerText;
																																				}
																																				if (XMLSUBCHILDS4[nSubChildCount4].Name == "amount")
																																				{
																																					FISKALY_TRANSACTION_V2.schema.standard_v1.receipt.amounts_per_var_rate[nSubChildCount3].amount = ((SalString)XMLSUBCHILDS4[nSubChildCount4].InnerText).ToNumber();
																																				}
																																				if (XMLSUBCHILDS4[nSubChildCount4].Name == "currency_code")
																																				{
																																					FISKALY_TRANSACTION_V2.schema.standard_v1.receipt.amounts_per_payment_type[nSubChildCount3].currency_code = XMLSUBCHILDS4[nSubChildCount4].InnerText;
																																				}
																																			}
																																			nSubChildCount4 = nSubChildCount4 + 1;
																																		}
																																	}
																																}
																															}
																														}
																														nSubChildCount3 = nSubChildCount3 + 1;
																													}
																												}
																											}
																										}
																									}
																									nSubChildCount2 = nSubChildCount2 + 1;
																								}
																							}
																						}
																					}
																				}
																				nSubChildCount1 = nSubChildCount1 + 1;
																			}
																		}
																	}
																}
																if (XMLSUBCHILDS[nSubChildCount].Name == "raw")
																{
																	if (XMLSUBCHILDS[nSubChildCount].HasChildNodes)
																	{
																		if ((XMLSUBCHILDS1 = XMLSUBCHILDS[nSubChildCount].ChildNodes) != null)
																		{
																			nSubChildNodes1 = XMLSUBCHILDS1.Count;
																			nSubChildCount1 = 0;
																			while (true)
																			{
																				if (nSubChildCount1 >= nSubChildNodes1)
																				{
																					break;
																				}
																				if (XMLSUBCHILDS1[nSubChildCount1].NodeType == XmlNodeType.Element)
																				{
																					if (XMLSUBCHILDS1[nSubChildCount1].Name == "process_type")
																					{
																						FISKALY_TRANSACTION_V2.schema.raw.process_type = XMLSUBCHILDS1[nSubChildCount1].InnerText;
																					}
																					if (XMLSUBCHILDS1[nSubChildCount1].Name == "process_data")
																					{
																						FISKALY_TRANSACTION_V2.schema.raw.process_data = XMLSUBCHILDS1[nSubChildCount1].InnerText;
																					}
																				}
																				nSubChildCount1 = nSubChildCount1 + 1;
																			}
																		}
																	}
																}
																// If XMLSUBCHILDS.item(nSubChildCount).nodeName(  )="algorithm"
																// Set FISKALY_TRANSACTION.signature.algorithm=XMLSUBCHILDS.item(nSubChildCount).getTextContent()
																// If XMLSUBCHILDS.item(nSubChildCount).nodeName(  )="counter"
																// Set FISKALY_TRANSACTION.signature.counter=SalStrToNumber(XMLSUBCHILDS.item(nSubChildCount).getTextContent())
																// If XMLSUBCHILDS.item(nSubChildCount).nodeName(  )="public_key"
																// Set FISKALY_TRANSACTION.signature.public_key=XMLSUBCHILDS.item(nSubChildCount).getTextContent()
															}
															nSubChildCount = nSubChildCount + 1;
														}
													}
												}
											}
											if (XMLCHILDS[nChildCount].Name == "qr_code_data")
											{
												FISKALY_TRANSACTION_V2.qr_code_data = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "revision")
											{
												FISKALY_TRANSACTION_V2.revision = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "latest_revision")
											{
												FISKALY_TRANSACTION_V2.latest_revision = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "log")
											{
												if (XMLCHILDS[nChildCount].HasChildNodes)
												{
													if ((XMLSUBCHILDS = XMLCHILDS[nChildCount].ChildNodes) != null)
													{
														nSubChildNodes = XMLSUBCHILDS.Count;
														nSubChildCount = 0;
														while (true)
														{
															if (nSubChildCount >= nSubChildNodes)
															{
																break;
															}
															if (XMLSUBCHILDS[nSubChildCount].NodeType == XmlNodeType.Element)
															{
																if (XMLSUBCHILDS[nSubChildCount].Name == "operation")
																{
																	FISKALY_TRANSACTION_V2.log.operation = XMLSUBCHILDS[nSubChildCount].InnerText;
																}
																if (XMLSUBCHILDS[nSubChildCount].Name == "timestamp")
																{
																	FISKALY_TRANSACTION_V2.log.timestamp = ((SalString)XMLSUBCHILDS[nSubChildCount].InnerText).ToNumber();
																}
																if (XMLSUBCHILDS[nSubChildCount].Name == "timestamp_format")
																{
																	FISKALY_TRANSACTION_V2.log.timestamp_format = XMLSUBCHILDS[nSubChildCount].InnerText;
																}
															}
															nSubChildCount = nSubChildCount + 1;
														}
													}
												}
											}
											if (XMLCHILDS[nChildCount].Name == "signature")
											{
												if (XMLCHILDS[nChildCount].HasChildNodes)
												{
													if ((XMLSUBCHILDS = XMLCHILDS[nChildCount].ChildNodes) != null)
													{
														nSubChildNodes = XMLSUBCHILDS.Count;
														nSubChildCount = 0;
														while (true)
														{
															if (nSubChildCount >= nSubChildNodes)
															{
																break;
															}
															if (XMLSUBCHILDS[nSubChildCount].NodeType == XmlNodeType.Element)
															{
																if (XMLSUBCHILDS[nSubChildCount].Name == "value")
																{
																	FISKALY_TRANSACTION_V2.signature.value = XMLSUBCHILDS[nSubChildCount].InnerText;
																}
																if (XMLSUBCHILDS[nSubChildCount].Name == "algorithm")
																{
																	FISKALY_TRANSACTION_V2.signature.algorithm = XMLSUBCHILDS[nSubChildCount].InnerText;
																}
																if (XMLSUBCHILDS[nSubChildCount].Name == "counter")
																{
																	FISKALY_TRANSACTION_V2.signature.counter = ((SalString)XMLSUBCHILDS[nSubChildCount].InnerText).ToNumber();
																}
																if (XMLSUBCHILDS[nSubChildCount].Name == "public_key")
																{
																	FISKALY_TRANSACTION_V2.signature.public_key = XMLSUBCHILDS[nSubChildCount].InnerText;
																}
															}
															nSubChildCount = nSubChildCount + 1;
														}
													}
												}
											}
											if (XMLCHILDS[nChildCount].Name == "tss_id")
											{
												FISKALY_TRANSACTION_V2.tss_id = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_id")
											{
												FISKALY_TRANSACTION_V2._id = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_type")
											{
												FISKALY_TRANSACTION_V2._type = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_env")
											{
												FISKALY_TRANSACTION_V2._env = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_version")
											{
												FISKALY_TRANSACTION_V2._version = XMLCHILDS[nChildCount].InnerText;
											}
										}
										else if (p_strObject == "Fiskaly_Export_V2")
										{
											if (XMLCHILDS[nChildCount].Name == "state")
											{
												FISKALY_EXPORT_V2.state = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "time_request")
											{
												FISKALY_EXPORT_V2.time_request = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "time_start")
											{
												FISKALY_EXPORT_V2.time_start = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "time_end")
											{
												FISKALY_EXPORT_V2.time_end = ((SalString)XMLCHILDS[nChildCount].InnerText).ToNumber();
											}
											if (XMLCHILDS[nChildCount].Name == "tss_id")
											{
												FISKALY_EXPORT_V2.tss_id = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_id")
											{
												FISKALY_EXPORT_V2._id = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_type")
											{
												FISKALY_EXPORT_V2._type = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_env")
											{
												FISKALY_EXPORT_V2._env = XMLCHILDS[nChildCount].InnerText;
											}
											if (XMLCHILDS[nChildCount].Name == "_version")
											{
												FISKALY_EXPORT_V2._version = XMLCHILDS[nChildCount].InnerText;
											}
										}
									}
									nChildCount = nChildCount + 1;
								}
								if (p_nMode == 0)
								{
									if (p_strObject == "Fiskaly_TSS")
									{
										FISKALY_TSS_LIST.TSS_LIST[nCount] = FISKALY_TSS;
									}
									else if (p_strObject == "Fiskaly_Client")
									{
										FISKALY_CLIENT_LIST.CLIENT_LIST[nCount] = FISKALY_CLIENT;
									}
									else if (p_strObject == "Fiskaly_Transaction")
									{
										FISKALY_TRANSACTION_LIST.TRANSACTION_LIST[nCount] = FISKALY_TRANSACTION;
									}
									else if (p_strObject == "Fiskaly_Export")
									{
										FISKALY_EXPORT_LIST.EXPORT_LIST[nCount] = FISKALY_EXPORT;
									}
									// -- Geändert (14.10.2021)
									else if (p_strObject == "Fiskaly_TSS_V2")
									{
										FISKALY_TSS_LIST_V2.TSS_LIST[nCount] = FISKALY_TSS_V2;
									}
									else if (p_strObject == "Fiskaly_Client_V2")
									{
										FISKALY_CLIENT_LIST_V2.CLIENT_LIST[nCount] = FISKALY_CLIENT_V2;
									}
									else if (p_strObject == "Fiskaly_Transaction_V2")
									{
										FISKALY_TRANSACTION_LIST_V2.TRANSACTION_LIST[nCount] = FISKALY_TRANSACTION_V2;
									}
									// -- Geändert (31.10.2021)
									else if (p_strObject == "Fiskaly_Export_V2")
									{
										FISKALY_EXPORT_LIST_V2.EXPORT_LIST[nCount] = FISKALY_EXPORT_V2;
									}
								}
							}
							nCount = nCount + 1;
						}
					}
				}
				//oXMLDocument.release();
			}
			return ret_bOk;
			#endregion
		}
		#endregion
	}
}
